<!DOCTYPE html>
<html lang="en">
<head>
	<title>Add Slide</title>
</head>
<body onload="sendReady()">
	<form>
		<div>
			<label>Enter slide title </label><br>
			<input type="text" id="item" autofocus><br>
			<label>Enter slide index </label><br>
			<input type="number" id="index" min=0><br>
			<input type="radio" id="codeOrNo" name="codeOrNo" value="yes">Slide is code based<br>
			<input type="radio" id="codeOrNo" name="codeOrNo" value="not">Slide is not code based<br>
			If code based please choose a language<br>
			<input type="text" list="languages"/>
			<datalist id="languages">
				<option>C</option>
				<option>C#</option>
				<option>C++</option>
				<option>CSS</option>
				<option>Fortran</option>
				<option>HTML</option>
				<option>Java</option>
				<option>Javascript</option>
				<option>Python</option>
			</datalist>
		</div>
		<button type="submit">Add Slide</button>
	</form>
	<script>
		//the form aread above the script section here is the area that the user inputs information, 
		//then the next two things below this line are making sure that the script section has what it needs
		const electron = require('electron');
		const {ipcRenderer} = electron;
		
		//this stuff grabs the information from the for when the user hits submit
		const form = document.querySelector('form');
		form.addEventListener('submit',submitForm);//and this uses that information to call the function below

		function sendReady(){
			ipcRenderer.send('AddReady',null);
		}

		ipcRenderer.on('totalSize',function(e,length){
			document.getElementById("index").max = length;
		});

		//the function for submiting the information to the main.js file
		function submitForm(e){
			e.preventDefault(); //forms by default want to save to a file, this prevents that
			const item = document.querySelector('#item').value; //grabs the the slide title and saves it into constant item
			const index = document.querySelector('#index').value;
			const codeOrNo = document.querySelector('input[name = "codeOrNo"]:checked').value;
			const language = document.querySelector('#languages').value;
			ipcRenderer.send('item:add',item,index,codeOrNo,language); //sends the item and index to the main.js file, specifically ipcMain with the tag 'item:add'
		}
	</script>
</body>
</html>
